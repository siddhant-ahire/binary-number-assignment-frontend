(this["webpackJsonpbinary-number-front"]=this["webpackJsonpbinary-number-front"]||[]).push([[0],{24:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(18),o=c.n(r),a=(c(24),c(5)),i=c(3),j=c(2),l=c(13),d="https://binary-number-backend.herokuapp.com/api",b=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},u=c(0),h=["component"],O=function(e){var t=e.component,c=Object(l.a)(e,h);return Object(u.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return b()&&1===b().user.role?Object(u.jsx)(t,Object(j.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},m=["component"],x=function(e){var t=e.component,c=Object(l.a)(e,m);return Object(u.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){return b()&&0===b().user.role?Object(u.jsx)(t,Object(j.a)({},e)):Object(u.jsx)(i.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},p=c(10),f=c(8),g=function(){var e=Object(n.useState)({username:"user1@bn.com",password:"User@123",error:"",loading:!1,redirectToReferrer:!1}),t=Object(f.a)(e,2),c=t[0],s=t[1],r=c.username,o=c.password,l=c.error,h=c.loading,O=c.redirectToReferrer,m=b().user,x=function(e){return function(t){s(Object(j.a)(Object(j.a)({},c),{},Object(p.a)({error:!1},e,t.target.value)))}},g=function(e){e.preventDefault(),s(Object(j.a)(Object(j.a)({},c),{},{error:!1,loading:!0})),function(e){return console.log(d),fetch("".concat(d,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({username:r,password:o}).then((function(e){e.error?s(Object(j.a)(Object(j.a)({},c),{},{error:e.error,loading:!1})):function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){s(Object(j.a)(Object(j.a)({},c),{},{redirectToReferrer:!0}))}))}))};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"alert alert-danger",style:{display:l?"":"none"},children:l}),h&&Object(u.jsx)("div",{className:"alert alert-info",children:Object(u.jsx)("h2",{children:"Loading..."})}),Object(u.jsx)("div",{className:"row justify-content-md-center mt-5",children:Object(u.jsxs)("form",{className:"col-12 col-md-6 ",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"username"}),Object(u.jsx)("input",{onChange:x("username"),type:"username",className:"form-control",value:r})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"password"}),Object(u.jsx)("input",{onChange:x("password"),type:"password",className:"form-control",value:o})]}),Object(u.jsx)("button",{onClick:g,type:"submit",className:"btn btn-success",children:"Submit"}),Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(a.b,{to:"/signup",children:"create new account"})}),Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)("span",{children:"**Admin Account**"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"username: admin@bn.com"}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{children:"password: Admin@123"})]})]})}),O||b()?1===m.role?Object(u.jsx)(i.a,{to:"/users"}):Object(u.jsx)(i.a,{to:"/"}):void 0]})},v=function(){var e=Object(n.useState)({username:"",password:"",error:"",success:""}),t=Object(f.a)(e,2),c=t[0],s=t[1],r=c.username,o=c.password,i=c.error,l=c.success,b=function(e){return function(t){s(Object(j.a)(Object(j.a)({},c),{},Object(p.a)({error:!1},e,t.target.value)))}},h=function(e){e.preventDefault(),s(Object(j.a)(Object(j.a)({},c),{},{error:!1})),console.log(r,o);var t;(t={username:r,password:o,role:0},fetch("".concat(d,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){console.log(e),e.error?s(Object(j.a)(Object(j.a)({},c),{},{error:e.error,success:!1})):s(Object(j.a)(Object(j.a)({},c),{},{username:"",password:"",error:"",success:!0}))}))};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"alert alert-danger",style:{display:i?"":"none"},children:i}),Object(u.jsxs)("div",{className:"alert alert-info",style:{display:l?"":"none"},children:["New account is created. Please ",Object(u.jsx)(a.b,{to:"/signin",children:"Signin"})]}),Object(u.jsx)("div",{className:"row justify-content-md-center mt-5",children:Object(u.jsxs)("form",{className:"col-12 col-md-6 ",children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"username"}),Object(u.jsx)("input",{onChange:b("username"),type:"username",className:"form-control",value:r})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"password"}),Object(u.jsx)("input",{onChange:b("password"),type:"password",className:"form-control",value:o})]}),Object(u.jsx)("button",{onClick:h,type:"submit",className:"btn btn-success",children:"Submit"}),Object(u.jsx)("div",{className:"mt-2",children:Object(u.jsx)(a.b,{to:"/signin",children:"Go to Login"})})]})})]})},N=function(){var e=Object(n.useState)({amount:"",action:"",loading:!1,error:"",TransactionValue:!1}),t=Object(f.a)(e,2),c=t[0],s=t[1],r=c.amount,o=c.action,i=c.loading,l=c.error,h=c.TransactionValue,O=b(),m=O.user,x=O.token,g=function(e){return function(t){var n,r=t.target.value;s(Object(j.a)(Object(j.a)({},c),{},(n={},Object(p.a)(n,e,r),Object(p.a)(n,"TransactionValue",!1),n)))}},v=function(e){e.preventDefault(),s(Object(j.a)(Object(j.a)({},c),{},{error:"",loading:!0,TransactionValue:""})),function(e,t,c){return console.log(e,c),fetch("".concat(d,"/transaction/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(c)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(m.user_id,x,{amount:r,action:o}).then((function(e){e.error?s(Object(j.a)(Object(j.a)({},c),{},{error:e.error,TransactionValue:!1})):s(Object(j.a)(Object(j.a)({},c),{},{amount:"",error:"",loading:!1,TransactionValue:e.amount,action:""}))}))};return Object(u.jsx)("div",{className:"row mt-5",children:Object(u.jsxs)("div",{className:"col-md-6 offset-md-3",children:[Object(u.jsx)("div",{className:"alert alert-danger",style:{display:l?"":"none"},children:l}),i&&Object(u.jsx)("div",{className:"alert alert-success",children:Object(u.jsx)("h2",{children:"loading..."})}),Object(u.jsx)("div",{className:"alert alert-info",style:{display:h?"":"none"},children:Object(u.jsx)("h2",{children:"Transaction successful"})}),Object(u.jsxs)("form",{className:"mb-3",onSubmit:v,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Amount"}),Object(u.jsx)("input",{onChange:g("amount"),type:"number",className:"form-control",value:r})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{className:"text-muted",children:"Action"}),Object(u.jsxs)("select",{onChange:g("action"),className:"form-control",value:o,children:[Object(u.jsx)("option",{children:"Please select"}),Object(u.jsx)("option",{value:"deposite",children:"Deposite"}),Object(u.jsx)("option",{value:"withdraw",children:"Withdraw"})]})]}),Object(u.jsx)("button",{className:"btn btn-outline-primary",children:"Make Transaction"})]}),Object(u.jsx)("div",{className:"mt-5",children:Object(u.jsx)(a.b,{to:"/",className:"text-warning",children:"Back to Home"})})]})})},y=Object(i.g)((function(e){var t=e.history;return Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){!function(e){if(void 0!==typeof window)localStorage.removeItem("jwt"),e(),fetch("".concat(d,"/signout"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))},className:"btn btn-danger",children:"Logout"})})})),w=function(){var e=b(),t=e.user,c=t.user_id,s=t.username,r=t.role,o=e.token,i=Object(n.useState)([]),j=Object(f.a)(i,2),l=j[0],h=j[1];return Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(d,"/accounts/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(c,o).then((function(e){return h(e)}))}),[c,o]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"row mb-3 mt-3",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)("h3",{children:s}),Object(u.jsxs)("h3",{children:["Role: ",0===r?"User":"Banker"]})]}),Object(u.jsxs)("div",{className:"col-6 text-right mt-auto",children:[Object(u.jsx)(y,{}),Object(u.jsx)(a.b,{to:"/transaction",children:Object(u.jsx)("h5",{children:"click here to make transaction"})})]})]}),Object(u.jsxs)("table",{className:"table table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Transaction ID"}),Object(u.jsx)("th",{scope:"col",children:"Action"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Current_Amount"}),Object(u.jsx)("th",{scope:"col",children:"Date"})]})}),Object(u.jsx)("tbody",{children:l.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.transaction_id}),Object(u.jsx)("td",{children:e.action}),Object(u.jsx)("td",{children:e.amount}),Object(u.jsx)("td",{children:e.current_amount}),Object(u.jsx)("td",{children:e.created_at})]},t)}))})]})]})},T=function(e){var t=e.match.params.userId,c=b(),s=c.user.user_id,r=c.token,o=Object(n.useState)([]),a=Object(f.a)(o,2),i=a[0],j=a[1];return Object(n.useEffect)((function(){(function(e,t,c){return fetch("".concat(d,"/transaction/").concat(e,"/").concat(t),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(s,t,r).then((function(e){return j(e)}))}),[s,t,r]),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"row mb-3 mt-3",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsxs)("h3",{children:["UserId: ",t]}),Object(u.jsx)("h3",{children:"Role: User"})]}),Object(u.jsx)("div",{className:"col-6 text-right mt-auto",children:Object(u.jsx)(y,{})})]}),Object(u.jsxs)("table",{className:"table table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"Transaction ID"}),Object(u.jsx)("th",{scope:"col",children:"Action"}),Object(u.jsx)("th",{scope:"col",children:"Amount"}),Object(u.jsx)("th",{scope:"col",children:"Current_Amount"}),Object(u.jsx)("th",{scope:"col",children:"Date"})]})}),Object(u.jsx)("tbody",{children:i.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:e.transaction_id}),Object(u.jsx)("td",{children:e.action}),Object(u.jsx)("td",{children:e.amount}),Object(u.jsx)("td",{children:e.current_amount}),Object(u.jsx)("td",{children:e.created_at})]},t)}))})]})]})},S=Object(i.g)((function(e){var t=e.history,c=b(),s=c.user,r=s.user_id,o=s.username,a=s.role,i=c.token,j=Object(n.useState)([]),l=Object(f.a)(j,2),h=l[0],O=l[1];Object(n.useEffect)((function(){(function(e,t){return fetch("".concat(d,"/users/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(r,i).then((function(e){return O(e)}))}),[r,i]);return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"row mb-3 mt-3",children:[Object(u.jsxs)("div",{className:"col-6",children:[Object(u.jsx)("h3",{children:o}),Object(u.jsxs)("h3",{children:["Role: ",0===a?"User":"Banker"]})]}),Object(u.jsx)("div",{className:"col-6 text-right mt-auto",children:Object(u.jsx)(y,{})})]}),Object(u.jsxs)("table",{className:"table table-sm",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"User ID"}),Object(u.jsx)("th",{scope:"col",children:"UserName"}),Object(u.jsx)("th",{scope:"col",children:"Total Amount"})]})}),Object(u.jsx)("tbody",{children:h.map((function(e,c){return Object(u.jsxs)("tr",{className:"userrow",onClick:function(){return c=e.user_id,console.log(t),void t.push("/users/".concat(c));var c},style:{cursor:"pointer"},children:[Object(u.jsx)("th",{scope:"row",children:e.user_id}),Object(u.jsx)("td",{children:e.username}),Object(u.jsx)("td",{children:e.current_amount})]},c)}))})]})]})})),A=function(){return Object(u.jsx)(a.a,{children:Object(u.jsxs)(i.d,{children:[Object(u.jsx)(i.b,{path:"/signin",exact:!0,component:g}),Object(u.jsx)(i.b,{path:"/signup",exact:!0,component:v}),Object(u.jsx)(x,{path:"/",exact:!0,component:w}),Object(u.jsx)(x,{path:"/transaction",exact:!0,component:N}),Object(u.jsx)(O,{path:"/users",exact:!0,component:S}),Object(u.jsx)(O,{path:"/users/:userId",exact:!0,component:T})]})})};o.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(A,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.f7a5341e.chunk.js.map