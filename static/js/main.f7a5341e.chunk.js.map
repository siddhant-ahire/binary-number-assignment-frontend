{"version":3,"sources":["config.js","auth/index.js","auth/AdminRoute.js","auth/PrivateRoute.js","user/Signin.js","user/Signup.js","user/Transaction.js","user/apiUser.js","user/Signout.js","user/TransactionList.js","user/TransactionListById.js","user/UsersList.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","AdminRoute","Component","component","rest","render","props","user","role","to","pathname","state","from","location","PrivateRoute","Signin","useState","username","password","error","loading","redirectToReferrer","values","setValues","handleChange","name","event","target","value","clickSubmit","preventDefault","console","log","fetch","method","headers","Accept","body","stringify","then","response","json","catch","err","signin","data","next","undefined","setItem","authenticate","className","style","display","onChange","type","onClick","Signup","success","Transaction","amount","action","TransactionValue","token","e","userId","Authorization","createTransaction","user_id","onSubmit","withRouter","history","removeItem","res","signout","push","TransactionList","transactions","setTransactions","useEffect","getTransactions","scope","map","v","i","transaction_id","current_amount","created_at","TransactionListById","id","match","params","getTransactionById","users","setUsers","getUsersList","cursor","Routes","path","exact","UsersList","ReactDOM","StrictMode","document","getElementById"],"mappings":"uOAAaA,EAAMC,kDC0DNC,EAAkB,WAC3B,MAAqB,oBAAVC,WAGPC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,U,uBClDhCG,EARI,SAAC,GAAD,IAAcC,EAAd,EAAGC,UAAyBC,EAA5B,wBACf,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OAAQ,SAAAC,GAAK,OAAIX,KAAqD,IAAhCA,IAAkBY,KAAKC,KAC1E,cAACN,EAAD,eAAeI,IAEf,cAAC,IAAD,CAAUG,GAAI,CAAEC,SAAU,UAAWC,MAAO,CAAEC,KAAMN,EAAMO,kB,gBCInDC,EARM,SAAC,GAAD,IAAcZ,EAAd,EAAGC,UAAyBC,EAA5B,wBACjB,cAAC,IAAD,2BAAWA,GAAX,IAAiBC,OAAQ,SAAAC,GAAK,OAAIX,KAAqD,IAAhCA,IAAkBY,KAAKC,KAC1E,cAACN,EAAD,eAAeI,IAEf,cAAC,IAAD,CAAUG,GAAI,CAAEC,SAAU,UAAWC,MAAO,CAAEC,KAAMN,EAAMO,kB,eCkGnDE,EAvGA,WAEX,MAA4BC,mBAAS,CACjCC,SAAU,eACVC,SAAU,WACVC,MAAO,GACPC,SAAS,EACTC,oBAAoB,IALxB,mBAAOC,EAAP,KAAeC,EAAf,KAQQN,EAA2DK,EAA3DL,SAAUC,EAAiDI,EAAjDJ,SAAUC,EAAuCG,EAAvCH,MAAOC,EAAgCE,EAAhCF,QAASC,EAAuBC,EAAvBD,mBACpCd,EAASZ,IAATY,KACFiB,EAAe,SAAAC,GAAI,OAAI,SAAAC,GACzBH,EAAU,2BAAKD,GAAN,gBAAcH,OAAO,GAAQM,EAAOC,EAAMC,OAAOC,WAKxDC,EAAc,SAACH,GACjBA,EAAMI,iBACNP,EAAU,2BAAKD,GAAN,IAAcH,OAAO,EAAOC,SAAS,KHJhC,SAACb,GAEnB,OADAwB,QAAQC,IAAIvC,GACLwC,MAAM,GAAD,OAAIxC,EAAJ,WAAkB,CAC1ByC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMtC,KAAKuC,UAAU/B,KAEpBgC,MAAK,SAAAC,GACF,OAAQA,EAASC,UAEpBC,OAAM,SAAAC,GACHZ,QAAQC,IAAIW,MGThBC,CAAO,CAAE3B,WAAUC,aACdqB,MAAK,SAAAM,GACEA,EAAK1B,MACLI,EAAU,2BAAKD,GAAN,IAAcH,MAAO0B,EAAK1B,MAAOC,SAAS,KHU3C,SAACyB,EAAMC,QACTC,WAAXnD,SACPC,aAAamD,QAAQ,MAAOjD,KAAKuC,UAAUO,IAC3CC,KGXYG,CACIJ,GACA,WACItB,EAAU,2BACHD,GADE,IAELD,oBAAoB,YA8DhD,OACI,sBAAK6B,UAAU,YAAf,UAvDA,qBAAKA,UAAU,qBAAqBC,MAAO,CAAEC,QAASjC,EAAQ,GAAK,QAAnE,SACKA,IAKLC,GACI,qBAAK8B,UAAU,mBAAf,SACI,8CAuBR,qBAAKA,UAAU,qCAAf,SACI,uBAAMA,UAAU,mBAAhB,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOG,SAAU7B,EAAa,YAAa8B,KAAK,WAAWJ,UAAU,eAAetB,MAAOX,OAE/F,sBAAKiC,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOG,SAAU7B,EAAa,YAAa8B,KAAK,WAAWJ,UAAU,eAAetB,MAAOV,OAE/F,wBAAQqC,QAAS1B,EAAayB,KAAK,SAASJ,UAAU,kBAAtD,oBACA,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMzC,GAAG,UAAT,kCAEJ,sBAAKyC,UAAU,OAAf,UACI,qDAA8B,uBAC9B,0DAAmC,uBACnC,+DAlCR7B,GAOA1B,IANkB,IAAdY,EAAKC,KACE,cAAC,IAAD,CAAUC,GAAG,WAEb,cAAC,IAAD,CAAUA,GAAG,WAG5B,MCoBO+C,EAhFA,WAEX,MAA4BxC,mBAAS,CACjCC,SAAU,GACVC,SAAU,GACVC,MAAO,GACPsC,QAAS,KAJb,mBAAOnC,EAAP,KAAeC,EAAf,KAOQN,EAAuCK,EAAvCL,SAAUC,EAA6BI,EAA7BJ,SAAUC,EAAmBG,EAAnBH,MAAOsC,EAAYnC,EAAZmC,QAE7BjC,EAAe,SAAAC,GAAI,OAAI,SAAAC,GACzBH,EAAU,2BAAKD,GAAN,gBAAcH,OAAO,GAAQM,EAAOC,EAAMC,OAAOC,WAKxDC,EAAc,SAACH,GACjBA,EAAMI,iBACNP,EAAU,2BAAKD,GAAN,IAAcH,OAAO,KAC9BY,QAAQC,IAAIf,EAAUC,GACtB,IJtBeX,KIuBR,CAAEU,WAAUC,WAAUV,KADhB,GJrBVyB,MAAM,GAAD,OAAIxC,EAAJ,WAAkB,CAC1ByC,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,oBAEpBC,KAAMtC,KAAKuC,UAAU/B,KAEpBgC,MAAK,SAAAC,GACF,OAAQA,EAASC,UAEpBC,OAAM,SAAAC,GACHZ,QAAQC,IAAIW,OIWXJ,MAAK,SAAAM,GACFd,QAAQC,IAAIa,GACRA,EAAK1B,MACLI,EAAU,2BAAKD,GAAN,IAAcH,MAAO0B,EAAK1B,MAAOsC,SAAS,KAEnDlC,EAAU,2BACHD,GADE,IAELL,SAAU,GACVC,SAAU,GACVC,MAAO,GACPsC,SAAS,SAsC7B,OACI,sBAAKP,UAAU,YAAf,UA/BA,qBAAKA,UAAU,qBAAqBC,MAAO,CAAEC,QAASjC,EAAQ,GAAK,QAAnE,SACKA,IAKL,sBAAK+B,UAAU,mBAAmBC,MAAO,CAAEC,QAASK,EAAU,GAAK,QAAnE,4CACmC,cAAC,IAAD,CAAMhD,GAAG,UAAT,uBAKnC,qBAAKyC,UAAU,qCAAf,SACI,uBAAMA,UAAU,mBAAhB,UACI,sBAAKA,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOG,SAAU7B,EAAa,YAAa8B,KAAK,WAAWJ,UAAU,eAAetB,MAAOX,OAE/F,sBAAKiC,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,sBACA,uBAAOG,SAAU7B,EAAa,YAAa8B,KAAK,WAAWJ,UAAU,eAAetB,MAAOV,OAE/F,wBAAQqC,QAAS1B,EAAayB,KAAK,SAASJ,UAAU,kBAAtD,oBACA,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMzC,GAAG,UAAT,oCCqCLiD,EArGK,WAEhB,MAA4B1C,mBAAS,CACjC2C,OAAQ,GACRC,OAAQ,GACRxC,SAAS,EACTD,MAAO,GACP0C,kBAAkB,IALtB,mBAAOvC,EAAP,KAAeC,EAAf,KASIoC,EAKArC,EALAqC,OACAC,EAIAtC,EAJAsC,OACAxC,EAGAE,EAHAF,QACAD,EAEAG,EAFAH,MACA0C,EACAvC,EADAuC,iBAOJ,EAAwBlE,IAAhBY,EAAR,EAAQA,KAAMuD,EAAd,EAAcA,MAERtC,EAAe,SAAAC,GAAI,OAAI,SAAAC,GAAU,IAAD,EAC5BE,EAAQF,EAAMC,OAAOC,MAC3BL,EAAU,2BAAKD,GAAN,uBAAeG,EAAOG,GAAtB,kCAA+C,GAA/C,OAGPC,EAAc,SAACkC,GACjBA,EAAEjC,iBACFP,EAAU,2BAAKD,GAAN,IAAcH,MAAO,GAAIC,SAAS,EAAMyC,iBAAkB,MCY1C,SAACG,EAAQF,EAAOjB,GAE7C,OADAd,QAAQC,IAAIgC,EAAQnB,GACbZ,MAAM,GAAD,OAAIxC,EAAJ,wBAAuBuE,GAAU,CACzC9B,OAAQ,OACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB6B,cAAc,UAAD,OAAYH,IAE7BzB,KAAMtC,KAAKuC,UAAUO,KAEpBN,MAAK,SAAAC,GACF,OAAQA,EAASC,UAEpBC,OAAM,SAAAC,GACHZ,QAAQC,IAAIW,MD1BhBuB,CAAkB3D,EAAK4D,QAASL,EAAO,CAAEH,OAAQA,EAAQC,OAAQA,IAC5DrB,MAAK,SAAAM,GACEA,EAAK1B,MACLI,EAAU,2BAAKD,GAAN,IAAcH,MAAO0B,EAAK1B,MAAO0C,kBAAkB,KAE5DtC,EAAU,2BACHD,GADE,IACMqC,OAAQ,GAAIxC,MAAO,GAAIC,SAAS,EAAOyC,iBAAkBhB,EAAKc,OAAQC,OAAQ,UAkD7G,OACI,qBAAKV,UAAU,WAAf,SACI,sBAAKA,UAAU,uBAAf,UA1BJ,qBAAKA,UAAU,qBAAqBC,MAAO,CAAEC,QAASjC,EAAQ,GAAK,QAAnE,SACKA,IAULC,GAAY,qBAAK8B,UAAU,sBAAf,SACR,8CAPJ,qBAAKA,UAAU,mBAAmBC,MAAO,CAAEC,QAASS,EAAmB,GAAK,QAA5E,SACI,0DAxBJ,uBAAMX,UAAU,OAAOkB,SAAUvC,EAAjC,UACI,sBAAKqB,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,oBACA,uBAAOG,SAAU7B,EAAa,UAAW8B,KAAK,SAASJ,UAAU,eAAetB,MAAO+B,OAE3F,sBAAKT,UAAU,aAAf,UACI,uBAAOA,UAAU,aAAjB,oBACA,yBAAQG,SAAU7B,EAAa,UAAW0B,UAAU,eAAetB,MAAOgC,EAA1E,UACI,mDACA,wBAAQhC,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,4BAGR,wBAAQsB,UAAU,0BAAlB,iCAqBJ,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMzC,GAAG,IAAIyC,UAAU,eAAvB,kCEnEGmB,eAfC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAQf,OACI,8BACI,wBAAQf,QARI,YPuCD,SAACT,GACpB,QAAsBC,WAAXnD,OACPC,aAAa0E,WAAW,OACxBzB,IACOb,MAAM,GAAD,OAAIxC,EAAJ,YAAmB,CAC3ByC,OAAQ,QAEPK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAiC,GAAG,OAAIzC,QAAQC,IAAIwC,MACxB9B,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,MO/C9B8B,EAAQ,WACJH,EAAQI,KAAK,SAMiBxB,UAAU,iBAAxC,yBCyCGyB,EAjDS,WACpB,MAAqDhF,IAArD,IAAQY,KAAQ4D,EAAhB,EAAgBA,QAASlD,EAAzB,EAAyBA,SAAUT,EAAnC,EAAmCA,KAAQsD,EAA3C,EAA2CA,MAC3C,EAAwC9C,mBAAS,IAAjD,mBAAO4D,EAAP,KAAqBC,EAArB,KASA,OAPAC,qBAAU,YFsBiB,SAACd,EAAQF,GACpC,OAAO7B,MAAM,GAAD,OAAIxC,EAAJ,qBAAoBuE,GAAU,CACtC9B,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB6B,cAAc,UAAD,OAAYH,MAG5BvB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,OEjC1BoC,CAAgBZ,EAASL,GACpBvB,MAAK,SAAAM,GAAI,OAAIgC,EAAgBhC,QACnC,CAACsB,EAAQL,IAKR,sBAAKZ,UAAU,YAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,6BAAKjC,IACL,wCAAoB,IAATT,EAAa,OAAS,eAErC,sBAAK0C,UAAU,2BAAf,UACI,cAAC,EAAD,IACA,cAAC,IAAD,CAAMzC,GAAG,eAAT,SAAwB,wEAGhC,wBAAOyC,UAAU,iBAAjB,UACI,gCACI,+BACI,oBAAI8B,MAAM,MAAV,4BACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,4BACA,oBAAIA,MAAM,MAAV,uBAGR,gCACKJ,EAAaK,KAAI,SAACC,EAAGC,GAAJ,OACd,+BACI,oBAAIH,MAAM,MAAV,SAAiBE,EAAEE,iBACnB,6BAAKF,EAAEtB,SACP,6BAAKsB,EAAEvB,SACP,6BAAKuB,EAAEG,iBACP,6BAAKH,EAAEI,eALFH,eCalBI,EAjDa,SAACjF,GACzB,IAAMkF,EAAKlF,EAAMmF,MAAMC,OAAO1B,OAC9B,EAAqCrE,IAArBwE,EAAhB,EAAQ5D,KAAQ4D,QAAWL,EAA3B,EAA2BA,MAC3B,EAAwC9C,mBAAS,IAAjD,mBAAO4D,EAAP,KAAqBC,EAArB,KASA,OAPAC,qBAAU,YHyDoB,SAACd,EAAQwB,EAAI1B,GAC3C,OAAO7B,MAAM,GAAD,OAAIxC,EAAJ,wBAAuBuE,EAAvB,YAAiCwB,GAAM,CAC/CtD,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB6B,cAAc,UAAD,OAAYH,MAG5BvB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,OGpE1BgD,CAAmBxB,EAASqB,EAAI1B,GAC3BvB,MAAK,SAAAM,GAAI,OAAIgC,EAAgBhC,QACnC,CAACsB,EAAQqB,EAAG1B,IAKX,sBAAKZ,UAAU,YAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,0CAAasC,KACb,+CAEJ,qBAAKtC,UAAU,2BAAf,SACI,cAAC,EAAD,SAGR,wBAAOA,UAAU,iBAAjB,UACI,gCACI,+BACI,oBAAI8B,MAAM,MAAV,4BACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,oBACA,oBAAIA,MAAM,MAAV,4BACA,oBAAIA,MAAM,MAAV,uBAGR,gCACKJ,EAAaK,KAAI,SAACC,EAAGC,GAAJ,OACd,+BACI,oBAAIH,MAAM,MAAV,SAAiBE,EAAEE,iBACnB,6BAAKF,EAAEtB,SACP,6BAAKsB,EAAEvB,SACP,6BAAKuB,EAAEG,iBACP,6BAAKH,EAAEI,eALFH,eCmBlBd,eAnDG,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,EAAqD3E,IAArD,IAAQY,KAAQ4D,EAAhB,EAAgBA,QAASlD,EAAzB,EAAyBA,SAAUT,EAAnC,EAAmCA,KAAQsD,EAA3C,EAA2CA,MAC3C,EAA0B9C,mBAAS,IAAnC,mBAAO4E,EAAP,KAAcC,EAAd,KAGAf,qBAAU,YJIc,SAACd,EAAQF,GACjC,OAAO7B,MAAM,GAAD,OAAIxC,EAAJ,kBAAiBuE,GAAU,CACnC9B,OAAQ,MACRC,QAAS,CACLC,OAAQ,mBACR,eAAgB,mBAChB6B,cAAc,UAAD,OAAYH,MAG5BvB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAEnBC,OAAM,SAAAC,GAAG,OAAIZ,QAAQC,IAAIW,OIf1BmD,CAAa3B,EAASL,GACjBvB,MAAK,SAAAM,GAAI,OAAIgD,EAAShD,QAC5B,CAACsB,EAAQL,IAUZ,OACI,sBAAKZ,UAAU,YAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,6BAAKjC,IACL,wCAAoB,IAATT,EAAa,OAAS,eAErC,qBAAK0C,UAAU,2BAAf,SACI,cAAC,EAAD,SAGR,wBAAOA,UAAU,iBAAjB,UACI,gCACI,+BACI,oBAAI8B,MAAM,MAAV,qBACA,oBAAIA,MAAM,MAAV,sBACA,oBAAIA,MAAM,MAAV,+BAGR,gCACKY,EAAMX,KAAI,SAACC,EAAGC,GAAJ,OACP,qBAAIjC,UAAU,UAAkBK,QAAS,kBA3BxCiC,EA2B0DN,EAAEf,QA1B7EpC,QAAQC,IAAIsC,QACZA,EAAQI,KAAR,iBAAuBc,IAFP,IAACA,GA2BsErC,MAAO,CAAE4C,OAAQ,WAAxF,UACI,oBAAIf,MAAM,MAAV,SAAiBE,EAAEf,UACnB,6BAAKe,EAAEjE,WACP,6BAAKiE,EAAEG,mBAHkBF,iBCpBtCa,EAfA,WACX,OACI,cAAC,IAAD,UACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,KAAK,UAAUC,OAAK,EAAC/F,UAAWY,IACtC,cAAC,IAAD,CAAOkF,KAAK,UAAUC,OAAK,EAAC/F,UAAWqD,IACxC,cAAC,EAAD,CAAcyC,KAAK,IAAIC,OAAK,EAAC/F,UAAawE,IAC1C,cAAC,EAAD,CAAcsB,KAAK,eAAeC,OAAK,EAAC/F,UAAauD,IACrD,cAAC,EAAD,CAAYuC,KAAK,SAASC,OAAK,EAAC/F,UAAagG,IAC7C,cAAC,EAAD,CAAYF,KAAK,iBAAiBC,OAAK,EAAC/F,UAAaoF,UChBrEa,IAAS/F,OACP,cAAC,IAAMgG,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f7a5341e.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_API_URL;","import { API } from \"../config\"\r\n\r\n\r\nexport const signup = (user) => {\r\n    return fetch(`${API}/signup`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const signin = (user) => {\r\n    console.log(API)\r\n    return fetch(`${API}/signin`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(user)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const authenticate = (data, next) => {\r\n    if (typeof window !== undefined) {\r\n        localStorage.setItem('jwt', JSON.stringify(data))\r\n        next()\r\n    }\r\n}\r\n\r\nexport const signout = (next) => {\r\n    if (typeof window !== undefined) {\r\n        localStorage.removeItem('jwt')\r\n        next();\r\n        return fetch(`${API}/signout`, {\r\n            method: 'GET'\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => console.log(res))\r\n            .catch(err => console.log(err));\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window == 'undefined') {\r\n        return false\r\n    }\r\n    if (localStorage.getItem('jwt')) {\r\n        return JSON.parse(localStorage.getItem('jwt'));\r\n    } else {\r\n        return false;\r\n    }\r\n}","import React from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { isAuthenticated } from '.';\r\n\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{ pathname: \"/signin\", state: { from: props.location } }} />\r\n    )} />\r\n)\r\n\r\nexport default AdminRoute","import React from 'react';\r\nimport { Redirect, Route } from 'react-router';\r\nimport { isAuthenticated } from '.';\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 0 ? (\r\n        <Component {...props} />\r\n    ) : (\r\n        <Redirect to={{ pathname: \"/signin\", state: { from: props.location } }} />\r\n    )} />\r\n)\r\n\r\nexport default PrivateRoute","import React, { useState } from 'react'\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { authenticate, isAuthenticated, signin } from '../auth'\r\n\r\nconst Signin = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        username: 'user1@bn.com',\r\n        password: 'User@123',\r\n        error: '',\r\n        loading: false,\r\n        redirectToReferrer: false\r\n    });\r\n\r\n    const { username, password, error, loading, redirectToReferrer } = values;\r\n    const { user } = isAuthenticated();\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false, loading: true })\r\n        signin({ username, password })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, loading: false })\r\n                } else {\r\n                    authenticate(\r\n                        data,\r\n                        () => {\r\n                            setValues({\r\n                                ...values,\r\n                                redirectToReferrer: true\r\n                            })\r\n                        })\r\n                }\r\n            })\r\n    }\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        )\r\n    )\r\n\r\n    const redirectUser = () => {\r\n        if (redirectToReferrer) {\r\n            if (user.role === 1) {\r\n                return <Redirect to=\"/users\" />\r\n            } else {\r\n                return <Redirect to=\"/\" />\r\n            }\r\n        }\r\n        if (isAuthenticated()) {\r\n            if (user.role === 1) {\r\n                return <Redirect to=\"/users\" />\r\n            } else {\r\n                return <Redirect to=\"/\" />\r\n            }\r\n        }\r\n    }\r\n\r\n    const signInForm = () => (\r\n        <div className=\"row justify-content-md-center mt-5\">\r\n            <form className=\"col-12 col-md-6 \">\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">username</label>\r\n                    <input onChange={handleChange('username')} type=\"username\" className=\"form-control\" value={username} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">password</label>\r\n                    <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n                </div>\r\n                <button onClick={clickSubmit} type='submit' className=\"btn btn-success\">Submit</button>\r\n                <div className=\"mt-2\">\r\n                    <Link to=\"/signup\">create new account</Link>\r\n                </div>\r\n                <div className=\"mt-3\">\r\n                    <span>**Admin Account**</span><br />\r\n                    <span>username: admin@bn.com</span><br />\r\n                    <span>password: Admin@123</span>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {showError()}\r\n            {showLoading()}\r\n            {signInForm()}\r\n            {redirectUser()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { signup } from '../auth'\r\n\r\nconst Signup = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        username: '',\r\n        password: '',\r\n        error: '',\r\n        success: ''\r\n    });\r\n\r\n    const { username, password, error, success } = values;\r\n\r\n    const handleChange = name => event => {\r\n        setValues({ ...values, error: false, [name]: event.target.value })\r\n    };\r\n\r\n\r\n\r\n    const clickSubmit = (event) => {\r\n        event.preventDefault();\r\n        setValues({ ...values, error: false })\r\n        console.log(username, password)\r\n        const role = 0\r\n        signup({ username, password, role })\r\n            .then(data => {\r\n                console.log(data)\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, success: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values,\r\n                        username: '',\r\n                        password: '',\r\n                        error: '',\r\n                        success: true\r\n                    })\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: success ? '' : 'none' }}>\r\n            New account is created. Please <Link to='/signin'>Signin</Link>\r\n        </div>\r\n    )\r\n\r\n    const signUpForm = () => (\r\n        <div className=\"row justify-content-md-center mt-5\">\r\n            <form className=\"col-12 col-md-6 \">\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">username</label>\r\n                    <input onChange={handleChange('username')} type=\"username\" className=\"form-control\" value={username} />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label className=\"text-muted\">password</label>\r\n                    <input onChange={handleChange('password')} type=\"password\" className=\"form-control\" value={password} />\r\n                </div>\r\n                <button onClick={clickSubmit} type='submit' className=\"btn btn-success\">Submit</button>\r\n                <div className=\"mt-2\">\r\n                    <Link to=\"/signin\">Go to Login</Link>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            {showError()}\r\n            {showSuccess()}\r\n            {signUpForm()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth';\r\nimport { createTransaction } from './apiUser';\r\n\r\nconst Transaction = () => {\r\n\r\n    const [values, setValues] = useState({\r\n        amount: '',\r\n        action: '',\r\n        loading: false,\r\n        error: '',\r\n        TransactionValue: false,\r\n    })\r\n\r\n    const {\r\n        amount,\r\n        action,\r\n        loading,\r\n        error,\r\n        TransactionValue,\r\n    } = values\r\n\r\n\r\n\r\n    //destructure user and token from localstorage\r\n\r\n    const { user, token } = isAuthenticated();\r\n\r\n    const handleChange = name => event => {\r\n        const value = event.target.value;\r\n        setValues({ ...values, [name]: value, TransactionValue: false })\r\n    }\r\n\r\n    const clickSubmit = (e) => {\r\n        e.preventDefault();\r\n        setValues({ ...values, error: '', loading: true, TransactionValue: '' })\r\n        createTransaction(user.user_id, token, { amount: amount, action: action })\r\n            .then(data => {\r\n                if (data.error) {\r\n                    setValues({ ...values, error: data.error, TransactionValue: false })\r\n                } else {\r\n                    setValues({\r\n                        ...values, amount: \"\", error: '', loading: false, TransactionValue: data.amount, action: ''\r\n                    })\r\n                }\r\n\r\n            })\r\n    }\r\n\r\n    const Form = () => (\r\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Amount</label>\r\n                <input onChange={handleChange(\"amount\")} type=\"number\" className=\"form-control\" value={amount} />\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <label className=\"text-muted\">Action</label>\r\n                <select onChange={handleChange(\"action\")} className=\"form-control\" value={action}>\r\n                    <option >Please select</option>\r\n                    <option value=\"deposite\">Deposite</option>\r\n                    <option value=\"withdraw\">Withdraw</option>\r\n                </select>\r\n            </div>\r\n            <button className=\"btn btn-outline-primary\">Make Transaction</button>\r\n        </form>\r\n    )\r\n\r\n    const showError = () => (\r\n        <div className=\"alert alert-danger\" style={{ display: error ? '' : 'none' }}>\r\n            {error}\r\n        </div>\r\n    )\r\n    const showSuccess = () => (\r\n        <div className=\"alert alert-info\" style={{ display: TransactionValue ? '' : 'none' }}>\r\n            <h2>Transaction successful</h2>\r\n        </div>\r\n    )\r\n\r\n    const showLoading = () => (\r\n        loading && (<div className=\"alert alert-success\">\r\n            <h2>loading...</h2>\r\n        </div>)\r\n    )\r\n    const goBack = () => (\r\n        <div className=\"mt-5\">\r\n            <Link to=\"/\" className=\"text-warning\">\r\n                Back to Home\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n\r\n    return (\r\n        <div className=\"row mt-5\">\r\n            <div className=\"col-md-6 offset-md-3\">\r\n                {showError()}\r\n                {showLoading()}\r\n                {showSuccess()}\r\n                {Form()}\r\n                {goBack()}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Transaction\r\n","import { API } from \"../config\"\r\n\r\nexport const getUser = (userId, token) => {\r\n    return fetch(`${API}/user/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getUsersList = (userId, token) => {\r\n    return fetch(`${API}/users/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\nexport const getTransactions = (userId, token) => {\r\n    return fetch(`${API}/accounts/${userId}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n\r\n\r\nexport const createTransaction = (userId, token, data) => {\r\n    console.log(userId, data)\r\n    return fetch(`${API}/transaction/${userId}`, {\r\n        method: 'POST',\r\n        headers: {\r\n            Accept: 'application/json',\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify(data)\r\n    })\r\n        .then(response => {\r\n            return (response.json())\r\n        })\r\n        .catch(err => {\r\n            console.log(err)\r\n        })\r\n}\r\n\r\nexport const getTransactionById = (userId, id, token) => {\r\n    return fetch(`${API}/transaction/${userId}/${id}`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            Accept: 'application/json',\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n    })\r\n        .then(response => {\r\n            return response.json()\r\n        })\r\n        .catch(err => console.log(err))\r\n}\r\n","import React from 'react'\r\nimport { signout } from '../auth'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nconst Signout = ({ history }) => {\r\n\r\n    const signOutUser = () => {\r\n        signout(() => {\r\n            history.push('/');\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <button onClick={signOutUser} className=\"btn btn-danger\">Logout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Signout)\r\n","import React, { useEffect, useState } from 'react'\r\nimport { isAuthenticated } from '../auth';\r\nimport { Link } from 'react-router-dom'\r\nimport { getTransactions } from './apiUser';\r\nimport Signout from './Signout';\r\n\r\nconst TransactionList = () => {\r\n    const { user: { user_id, username, role }, token } = isAuthenticated();\r\n    const [transactions, setTransactions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getTransactions(user_id, token)\r\n            .then(data => setTransactions(data))\r\n    }, [user_id,token])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row mb-3 mt-3\">\r\n                <div className=\"col-6\">\r\n                    <h3>{username}</h3>\r\n                    <h3>Role: {role === 0 ? 'User' : 'Banker'}</h3>\r\n                </div>\r\n                <div className=\"col-6 text-right mt-auto\">\r\n                    <Signout />\r\n                    <Link to=\"/transaction\"><h5>click here to make transaction</h5></Link>\r\n                </div>\r\n            </div>\r\n            <table className='table table-sm'>\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Transaction ID</th>\r\n                        <th scope=\"col\">Action</th>\r\n                        <th scope=\"col\">Amount</th>\r\n                        <th scope=\"col\">Current_Amount</th>\r\n                        <th scope=\"col\">Date</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {transactions.map((v, i) => (\r\n                        <tr key={i}>\r\n                            <th scope=\"row\">{v.transaction_id}</th>\r\n                            <td>{v.action}</td>\r\n                            <td>{v.amount}</td>\r\n                            <td>{v.current_amount}</td>\r\n                            <td>{v.created_at}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransactionList\r\n","import React, { useEffect, useState } from 'react'\r\nimport { isAuthenticated } from '../auth';\r\nimport { getTransactionById } from './apiUser';\r\nimport Signout from './Signout';\r\n\r\nconst TransactionListById = (props) => {\r\n    const id = props.match.params.userId;\r\n    const { user: { user_id }, token } = isAuthenticated();\r\n    const [transactions, setTransactions] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getTransactionById(user_id, id, token)\r\n            .then(data => setTransactions(data))\r\n    }, [user_id,id,token])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row mb-3 mt-3\">\r\n                <div className=\"col-6\">\r\n                    <h3>UserId: {id}</h3>\r\n                    <h3>Role: User</h3>\r\n                </div>\r\n                <div className=\"col-6 text-right mt-auto\">\r\n                    <Signout />\r\n                </div>\r\n            </div>\r\n            <table className='table table-sm'>\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">Transaction ID</th>\r\n                        <th scope=\"col\">Action</th>\r\n                        <th scope=\"col\">Amount</th>\r\n                        <th scope=\"col\">Current_Amount</th>\r\n                        <th scope=\"col\">Date</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {transactions.map((v, i) => (\r\n                        <tr key={i}>\r\n                            <th scope=\"row\">{v.transaction_id}</th>\r\n                            <td>{v.action}</td>\r\n                            <td>{v.amount}</td>\r\n                            <td>{v.current_amount}</td>\r\n                            <td>{v.created_at}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TransactionListById\r\n","import React, { useEffect, useState } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { isAuthenticated } from '../auth';\r\nimport { getUsersList } from './apiUser';\r\nimport Signout from './Signout';\r\n\r\n\r\n\r\nconst UsersList = ({ history }) => {\r\n    const { user: { user_id, username, role }, token } = isAuthenticated();\r\n    const [users, setUsers] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        getUsersList(user_id, token)\r\n            .then(data => setUsers(data))\r\n    }, [user_id,token])\r\n\r\n\r\n\r\n    const getUserById = (id) => {\r\n        console.log(history)\r\n        history.push(`/users/${id}`)\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row mb-3 mt-3\">\r\n                <div className=\"col-6\">\r\n                    <h3>{username}</h3>\r\n                    <h3>Role: {role === 0 ? 'User' : 'Banker'}</h3>\r\n                </div>\r\n                <div className=\"col-6 text-right mt-auto\">\r\n                    <Signout />\r\n                </div>\r\n            </div>\r\n            <table className='table table-sm'>\r\n                <thead>\r\n                    <tr>\r\n                        <th scope=\"col\">User ID</th>\r\n                        <th scope=\"col\">UserName</th>\r\n                        <th scope=\"col\">Total Amount</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {users.map((v, i) => (\r\n                        <tr className=\"userrow\" key={i} onClick={() => getUserById(v.user_id)} style={{ cursor: 'pointer' }}>\r\n                            <th scope=\"row\">{v.user_id}</th>\r\n                            <td>{v.username}</td>\r\n                            <td>{v.current_amount}</td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(UsersList)\r\n","import React from 'react'\r\nimport { Switch,Route, HashRouter} from 'react-router-dom'\r\nimport AdminRoute from './auth/AdminRoute'\r\nimport PrivateRoute from './auth/PrivateRoute'\r\nimport Signin from './user/Signin'\r\nimport Signup from './user/Signup'\r\nimport Transaction from './user/Transaction'\r\nimport TransactionList from './user/TransactionList'\r\nimport TransactionListById from './user/TransactionListById'\r\nimport UsersList from './user/UsersList'\r\n\r\n\r\nconst Routes = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route path=\"/signin\" exact component={Signin} />\r\n                 <Route path=\"/signup\" exact component={Signup} />\r\n                <PrivateRoute path=\"/\" exact component = {TransactionList} />\r\n                <PrivateRoute path=\"/transaction\" exact component = {Transaction} />\r\n                <AdminRoute path=\"/users\" exact component = {UsersList} />\r\n                <AdminRoute path=\"/users/:userId\" exact component = {TransactionListById} />\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nexport default Routes\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}